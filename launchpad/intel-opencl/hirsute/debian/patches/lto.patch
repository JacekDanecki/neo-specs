commit ac564130a5b5309aeeddff5fc36dbbaa5887754f
Author: Mateusz Jablonski <mateusz.jablonski@intel.com>
Date:   Tue May 11 19:23:47 2021 +0000

    Unify size of extern array
    
    Signed-off-by: Mateusz Jablonski <mateusz.jablonski@intel.com>

diff --git a/opencl/source/command_stream/command_stream_receiver_with_aub_dump.inl b/opencl/source/command_stream/command_stream_receiver_with_aub_dump.inl
index 753dd824ac..289ff443bc 100644
--- a/opencl/source/command_stream/command_stream_receiver_with_aub_dump.inl
+++ b/opencl/source/command_stream/command_stream_receiver_with_aub_dump.inl
@@ -1,5 +1,5 @@
 /*
- * Copyright (C) 2018-2020 Intel Corporation
+ * Copyright (C) 2018-2021 Intel Corporation
  *
  * SPDX-License-Identifier: MIT
  *
@@ -14,7 +14,7 @@
 
 namespace NEO {
 
-extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
 
 template <typename BaseCSR>
 CommandStreamReceiverWithAUBDump<BaseCSR>::CommandStreamReceiverWithAUBDump(const std::string &baseName,
diff --git a/opencl/source/command_stream/create_command_stream_impl.cpp b/opencl/source/command_stream/create_command_stream_impl.cpp
index a8a48b5ac4..456d726add 100644
--- a/opencl/source/command_stream/create_command_stream_impl.cpp
+++ b/opencl/source/command_stream/create_command_stream_impl.cpp
@@ -1,5 +1,5 @@
 /*
- * Copyright (C) 2018-2020 Intel Corporation
+ * Copyright (C) 2018-2021 Intel Corporation
  *
  * SPDX-License-Identifier: MIT
  *
@@ -15,7 +15,7 @@
 
 namespace NEO {
 
-extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
 
 CommandStreamReceiver *createCommandStreamImpl(ExecutionEnvironment &executionEnvironment,
                                                uint32_t rootDeviceIndex,
diff --git a/opencl/test/unit_test/os_interface/windows/driver_info_tests.cpp b/opencl/test/unit_test/os_interface/windows/driver_info_tests.cpp
index b0b6129506..0e198b6027 100644
--- a/opencl/test/unit_test/os_interface/windows/driver_info_tests.cpp
+++ b/opencl/test/unit_test/os_interface/windows/driver_info_tests.cpp
@@ -32,7 +32,7 @@ namespace SysCalls {
 extern const wchar_t *currentLibraryPath;
 }
 
-extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
 
 CommandStreamReceiver *createMockCommandStreamReceiver(bool withAubDump,
                                                        ExecutionEnvironment &executionEnvironment,
diff --git a/opencl/test/unit_test/platform/platform_tests.cpp b/opencl/test/unit_test/platform/platform_tests.cpp
index a4551fb27e..44d134e5eb 100644
--- a/opencl/test/unit_test/platform/platform_tests.cpp
+++ b/opencl/test/unit_test/platform/platform_tests.cpp
@@ -231,7 +231,7 @@ TEST(PlatformTestSimple, WhenConvertingOclCFeaturesToCompilerInternalOptionsThen
 }
 
 namespace NEO {
-extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
 }
 
 CommandStreamReceiver *createMockCommandStreamReceiver(bool withAubDump,
diff --git a/shared/source/gen11/command_stream_receiver_hw_gen11.cpp b/shared/source/gen11/command_stream_receiver_hw_gen11.cpp
index 812af78bf3..6e73db3b46 100644
--- a/shared/source/gen11/command_stream_receiver_hw_gen11.cpp
+++ b/shared/source/gen11/command_stream_receiver_hw_gen11.cpp
@@ -151,7 +151,7 @@ size_t CommandStreamReceiverHw<Family>::getCmdSizeForMediaSampler(bool mediaSamp
 
 template <>
 void populateFactoryTable<CommandStreamReceiverHw<Family>>() {
-    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
     commandStreamReceiverFactory[gfxCore] = DeviceCommandStreamReceiver<Family>::create;
 }
 
diff --git a/shared/source/gen12lp/command_stream_receiver_hw_gen12lp.cpp b/shared/source/gen12lp/command_stream_receiver_hw_gen12lp.cpp
index fb9d888dae..5d8d57ba17 100644
--- a/shared/source/gen12lp/command_stream_receiver_hw_gen12lp.cpp
+++ b/shared/source/gen12lp/command_stream_receiver_hw_gen12lp.cpp
@@ -56,7 +56,7 @@ size_t CommandStreamReceiverHw<Family>::getCmdSizeForComputeMode() {
 
 template <>
 void populateFactoryTable<CommandStreamReceiverHw<Family>>() {
-    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
     commandStreamReceiverFactory[gfxCore] = DeviceCommandStreamReceiver<Family>::create;
 }
 
diff --git a/shared/source/gen9/command_stream_receiver_hw_gen9.cpp b/shared/source/gen9/command_stream_receiver_hw_gen9.cpp
index 97a323efa5..cd089c9f7f 100644
--- a/shared/source/gen9/command_stream_receiver_hw_gen9.cpp
+++ b/shared/source/gen9/command_stream_receiver_hw_gen9.cpp
@@ -26,7 +26,7 @@ void CommandStreamReceiverHw<Family>::programComputeMode(LinearStream &stream, D
 
 template <>
 void populateFactoryTable<CommandStreamReceiverHw<Family>>() {
-    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[IGFX_MAX_CORE];
+    extern CommandStreamReceiverCreateFunc commandStreamReceiverFactory[2 * IGFX_MAX_CORE];
     commandStreamReceiverFactory[gfxCore] = DeviceCommandStreamReceiver<Family>::create;
 }
 
